# 滑行按键更新说明

## 更新日期
2025年11月18日

## 更改内容

### 1. 滑行按键修改
**原按键**: 向下箭头键 (↓)  
**新按键**: 左Shift键 (Left Shift)

### 2. HUD提示增强

#### 新增功能：
在游戏进行时，左下角会显示滑行按键提示：
- **位置**: 屏幕左下角
- **显示内容**: "L-Shift = SLIDE"
- **颜色**: 浅绿色文字，半透明深灰背景
- **显示条件**: 
  - ✅ 仅在游戏活动状态显示
  - ✅ 滑行冷却完成时显示
  - ❌ 正在滑行时隐藏（显示"SLIDING"状态）
  - ❌ 冷却中时隐藏（显示冷却倒计时）

#### 现有功能保持：
- **滑行中**: 显示绿色"SLIDING"徽章（右侧）
- **冷却中**: 显示灰色倒计时和蓝色进度条（右侧）

## 文件修改

### settings.py
```python
# 修改前
SLIDE_KEY = pg.K_DOWN  # 滑行按键（向下箭头）

# 修改后
SLIDE_KEY = pg.K_LSHIFT  # 滑行按键（左Shift）
```

### hud.py
新增方法：
```python
def draw_slide_hint(self) -> None:
    """在HUD中显示滑行技能的按键提示（游戏进行时显示）"""
```

特性：
- 智能显示：只在技能可用时显示提示
- 位置固定：左下角（40, HEIGHT-60）
- 尺寸：160x32像素
- 样式：半透明背景，灰色边框，浅绿色文字

### ATripHome.py
在游戏主循环中添加调用：
```python
# 绘制滑行按键提示
if getattr(self, 'hud', None):
    try:
        self.hud.draw_slide_hint()
    except Exception:
        pass
```

## 用户体验改进

### 优势：
1. **更符合人体工程学**：左Shift键位于键盘左下角，更容易用小指按下
2. **不干扰打字**：向下箭头可能与某些输入法或游戏操作冲突
3. **更直观**：Shift键常用于游戏中的"冲刺/滑行"动作
4. **清晰提示**：新玩家可以通过HUD提示快速学习滑行操作

### 操作说明：
1. **跳跃**: 正确输入字母
2. **滑行**: 按左Shift键（躲避障碍物）
3. **超级跳跃**: 连续完成3次跳跃自动获得

## 视觉效果

### HUD布局（游戏进行时）：
```
┌─────────────────────────────────────────────┐
│ HP: 20/20 ███████████████░░░  Score: 1234  │
│ [SUPER JUMP] [SLIDE 1.0s] [SHIELD 3s]      │ ← 技能状态
│                                             │
│                                             │
│                                             │
│                                             │
│                                             │
│ [L-Shift = SLIDE]                          │ ← 按键提示
└─────────────────────────────────────────────┘
```

## 测试状态
✅ 游戏正常启动  
✅ 按键配置已更新  
✅ HUD提示正常显示  
✅ 无编译错误  

## 兼容性
- Python 3.13.7
- Pygame 2.6.1
- Windows 平台测试通过

## 注意事项
如果使用其他键盘布局（如AZERTY），左Shift键的位置可能有所不同，但功能不受影响。

## 反馈
如需更改按键或提示样式，可以修改：
- `settings.py` 中的 `SLIDE_KEY`
- `hud.py` 中的 `draw_slide_hint()` 方法
